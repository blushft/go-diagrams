label: App
direction: LTR
groups:
- name: GCP
  nodes:
  - name: dns
    label: DNS
    type: gcp.Network.DNS
    connectTo:
    - load-balancer
  groups:
  - name: services
    label: Service Layer
    nodes:
    - label: "Server 1"
      type: gcp.Compute.ComputeEngine
    - label: "Server 2"
      type: gcp.Compute.ComputeEngine
    - label: "Server 3"
      type: gcp.Compute.ComputeEngine
    connectAllFrom:
    - load-balancer
    connectAllTo:
    - cache
  - name: data
    label: Data Layer
    nodes:
    - name: cache
      label: "Cache"
      type: gcp.Database.Memorystore
      connectTo:
      - db

    - name: db
      label: "Database"
      type: gcp.Database.Sql


